{% extends 'base.html' %}

{% block title %}Créer une mission{% endblock %}

{% block content %}
  <h1 class="mb-4">Créer une mission</h1>
  <form method="post">
    {% csrf_token %}
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="{{ mission_form.nom.id_for_label }}">Nom</label>
          {{ mission_form.nom }}
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label for="{{ mission_form.distance.id_for_label }}">Distance</label>
          {{ mission_form.distance }}
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="{{ mission_form.date_depart.id_for_label }}">Date de départ</label>
          {{ mission_form.date_depart }}
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label for="{{ mission_form.lieu_depart.id_for_label }}">Lieu de départ</label>
          {{ mission_form.lieu_depart }}
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="{{ mission_form.date_arrivee.id_for_label }}">Date d'arrivée</label>
          {{ mission_form.date_arrivee }}
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label for="{{ mission_form.lieu_arrivee.id_for_label }}">Lieu d'arrivée</label>
          {{ mission_form.lieu_arrivee }}
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="{{ mission_form.autres_charges.id_for_label }}">Autres charges</label>
          {{ mission_form.autres_charges }}
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label for="{{ mission_form.prix.id_for_label }}">Prix</label>
          {{ mission_form.prix }}
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="{{ mission_form.employees.id_for_label }}">Employés</label>
      {{ mission_form.employees }}
    </div>
    {{ formset.management_form }}
    {% for form in formset %}
      <div class="card mb-4">
        <div class="card-header">
          Employé n°{{ forloop.counter }}
        </div>
        <div class="card-body">
          {{ form.as_p }}
        </div>
      </div>
    {% endfor %}
    <button type="submit" class="btn btn-primary">Créer</button>
  </form>
{% endblock %}
